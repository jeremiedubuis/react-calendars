!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e=e||self).ReactCalendars={},e.React,e.ReactDOM)}(this,(function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function d(e){return function(){var t,n=l(e);if(u()){var r=l(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return h(this,t)}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var g=1,k=["MON","TUE","WEN","THU","FRI","SAT","SUN"],C=["January","February","March","April","May","June","July","August","September","October","November","December"],P="react-calendar",S="Previous",M="Next",O=function(e){c(o,e);var n=d(o);function o(){var e;r(this,o);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return s(f(e=n.call.apply(n,[this].concat(a))),"onClick",(function(t){var n=e.props.selectedDay?new Date(e.props.selectedDay.getTime()):null,r=new Date(e.props.year,e.props.month,e.props.day);e.props.selectDay(t,r,n)})),e}return a(o,[{key:"render",value:function(){return t.createElement("button",{type:"button",onClick:this.onClick},this.props.day)}}]),o}(t.Component),T=function(e){c(o,e);var n=d(o);function o(e){var t;return r(this,o),s(f(t=n.call(this,e)),"isDay",(function(e,n){return e instanceof Date&&t.props.year===e.getFullYear()&&t.props.month===e.getMonth()&&n===e.getDate()})),s(f(t),"isToday",(function(e){return t.isDay(new Date,e)})),t.state=o.getDerivedStateFromProps(e),t}return a(o,[{key:"getDayClass",value:function(e){var t=this,n=["".concat(P,"-day")];this.props.selectedDay&&this.isDay(this.props.selectedDay,e)&&n.push("is-selected"),this.isToday(e)&&n.push("is-today");var r=this.props.dateClasses.find((function(n){var r=m(n,1)[0];return t.isDay(r,e)}));return r&&n.push(r[1]),n.join(" ")}},{key:"render",value:function(){var e=this;return(t.createElement("div",{className:"".concat(P,"-month")},this.props.displayMonthTitle&&C[this.props.month],this.props.displayDayTitles&&t.createElement("ul",{className:"".concat(P,"-day-titles")},v(Array(7)).map((function(e,n){return t.createElement("li",{key:n},k[n])}))),t.createElement("ul",{className:"".concat(P,"-days")},v(Array(this.state.numberOfDays+this.state.offset)).map((function(n,r){return t.createElement("li",{className:e.getDayClass(r-e.state.offset+1),key:r},r>=e.state.offset&&t.createElement(O,{day:r-e.state.offset+1,selectDay:e.props.selectDay,selectedDay:e.props.selectedDay,month:e.props.month,year:e.props.year,onSelect:e.props.onSelect}))})))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=new Date(e.year,e.month,1).getDay()-g,n=e.month+1,r=e.year;return n>11&&(n=0),{numberOfDays:new Date(r,n,0).getDate(),offset:t>0?t:7+t}}}]),o}(t.Component),E=function(e){c(o,e);var n=d(o);function o(){var e;r(this,o);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return s(f(e=n.call.apply(n,[this].concat(a))),"onClickPrevious",(function(){e.props.month>0?e.props.setMonth(e.props.month-1):(e.props.setMonth(11),e.props.setYear(e.props.year-1))})),s(f(e),"onClickNext",(function(){e.props.month<11?e.props.setMonth(e.props.month+1):(e.props.setMonth(0),e.props.setYear(e.props.year+1))})),e}return a(o,[{key:"render",value:function(){return t.createElement("div",{className:"".concat(P,"-month-picker")},t.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},S),this.props.renderMonthTitle?this.props.renderMonthTitle(C[this.props.month],this.props.year):C[this.props.month],t.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},M))}}]),o}(t.Component),N=function(e){c(o,e);var n=d(o);function o(){var e;r(this,o);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return s(f(e=n.call.apply(n,[this].concat(a))),"onClickPrevious",(function(){return e.props.setYear(e.props.year-1)})),s(f(e),"onClickNext",(function(){return e.props.setYear(e.props.year+1)})),e}return a(o,[{key:"render",value:function(){return t.createElement("div",{className:"".concat(P,"-year-picker")},t.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},S),this.props.year,t.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},M))}}]),o}(t.Component),w=function(e){c(o,e);var n=d(o);function o(e){var t;return r(this,o),s(f(t=n.call(this,e)),"selectDay",(function(e,n,r){t.setState({selectedDay:n},(function(){return t.props.onSelect(e,n,r)}))})),s(f(t),"setMonth",(function(e){t.setState({month:e})})),s(f(t),"setYear",(function(e){t.setState({year:e})})),t.state={selectedDay:t.props.selectedDay,month:e.month,year:e.year},t}return a(o,[{key:"componentDidUpdate",value:function(e,t,n){this.props.year===e.year&&this.props.month===e.month&&this.props.selectedDay===e.selectedDay||this.setState({selectedDay:this.props.selectedDay,year:this.props.year,month:this.props.month})}},{key:"render",value:function(){var e=this;return(t.createElement("div",{ref:this.props.reference,className:"".concat(P," ").concat(this.props.className||""),style:this.props.style},this.props.displayYearPicker&&t.createElement(N,{setYear:this.setYear,year:this.state.year}),this.props.displayYearPicker&&this.props.afterYearPicker,this.props.displayMonthPicker&&t.createElement(E,{month:this.state.month,renderMonthTitle:this.props.renderMonthTitle,setMonth:this.setMonth,setYear:this.setYear,year:this.state.year}),this.props.displayMonthPicker&&this.props.afterMonthPicker,t.createElement("ul",{className:"".concat(P,"-months")},v(Array(this.props.visibleMonths)).map((function(n,r){return t.createElement("li",{key:r},t.createElement(T,{dateClasses:e.props.dateClasses,displayMonthTitle:e.props.displayMonthTitle,displayDayTitles:e.props.displayDayTitles,month:e.state.month,onSelect:e.props.onSelect,selectDay:e.selectDay,selectedDay:e.state.selectedDay,visibleMonths:e.props.visibleMonths,year:e.state.year}))}))),this.props.after))}}]),o}(t.Component);w.defaultProps={dateClasses:[],displayDayTitles:!0,displayMonthPicker:!0,displayYearPicker:!0,month:(new Date).getMonth(),onSelect:function(){},visibleMonths:1,year:(new Date).getFullYear()};var R=function(e,t){return!!(e.className&&e.className.split&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&j(e.parentNode,t)},j=function(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;t++)if(R(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!0;return!1},x=function(e){c(l,e);var o=d(l);function l(e){var n;return r(this,l),s(f(n=o.call(this,e)),"onClick",(function(e){return n.setState({displayCalendar:!0},(function(){"function"==typeof n.props.onClick&&n.props.onClick(e)}))})),s(f(n),"onFocus",(function(e){return n.setState({displayCalendar:!0},(function(){"function"==typeof n.props.onFocus&&n.props.onFocus(e)}))})),s(f(n),"close",(function(){return n.setState({displayCalendar:!1})})),s(f(n),"onChange",(function(e){e.persist();var t={value:e.target.value},r=n.state.selectedDay,o=n.props.valueToDate(e.target.value);o instanceof Date&&!isNaN(o)&&o.getFullYear()>999?(t.selectedDay=o,t.month=o.getMonth(),t.year=o.getFullYear()):(t.selectedDay=void 0,t.month=void 0,t.year=void 0),n.setState(t,(function(){"function"==typeof n.props.onChange&&n.props.onChange(e,t.selectedDay,r),t.selectedDay&&"function"==typeof n.props.onSelect&&n.props.onSelect(e,t.selectedDay,r)}))})),s(f(n),"onDateSelection",(function(e,t,r){n.setState({displayCalendar:!1,value:n.props.dateToValue(t),selectedDay:t},(function(){return n.props.onSelect(e,t,r)}))})),s(f(n),"onClickOutside",(function(e){e.button<=1&&((!n.inputRef.current.contains(e.target)||n.calendarRef)&&n.calendarRef.current&&n.calendarRef.current.contains(e.target)||n.targetHasExcludedClass(e.target)||n.close())})),s(f(n),"onFocusOutside",(function(e){(n.inputRef.current.contains(e.target)&&!n.calendarRef.current||!n.calendarRef.current.contains(e.target))&&n.close()})),s(f(n),"onKeyDown",(function(e){"Escape"===e.key&&n.close()})),n.state={displayCalendar:!1,value:e.selectedDay?e.dateToValue(e.selectedDay):"",selectedDay:e.selectedDay,month:e.month,year:e.year},n.calendarRef=t.createRef(),n.inputRef=t.createRef(),n}return a(l,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onClickOutside),document.addEventListener("focus",this.onFocusOutside),document.addEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function(e,t,n){e.selectedDay!==this.props.selectedDay&&this.setState({value:this.props.selectedDay?this.props.dateToValue(this.props.selectedDay):"",selectedDay:this.props.selectedDay})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onClickOutside),document.removeEventListener("focus",this.onFocusOutside)}},{key:"render",value:function(){var e=this.props,n=(e.after,e.afterMonthPicker,e.afterYearPicker,e.className,e.dataClasses,e.dateToValue,e.selectedDay,e.visibleMonths,e.displayDayTitles,e.displayMonthPicker,e.displayYearPicker,e.month,e.onSelect,e.renderMonthTitle,e.valueToDate,e.year,y(e,["after","afterMonthPicker","afterYearPicker","className","dataClasses","dateToValue","selectedDay","visibleMonths","displayDayTitles","displayMonthPicker","displayYearPicker","month","onSelect","renderMonthTitle","valueToDate","year"]));return(t.createElement(t.Fragment,null,t.createElement("input",i({ref:this.inputRef,className:"".concat(P,"-date-picker ").concat(this.props.className||"")},n,{value:this.state.value,onFocus:this.onFocus,onChange:this.onChange,onClick:this.onClick})),this.renderCalendar()))}},{key:"renderCalendar",value:function(){if(this.state.displayCalendar)return n.createPortal(t.createElement(w,{reference:this.calendarRef,style:this.getStyle(),className:"is-portal",selectedDay:this.state.selectedDay,visibleMonths:this.props.visibleMonths,displayDayTitles:this.props.displayDayTitles,displayMonthPicker:this.props.displayMonthPicker,displayYearPicker:this.props.displayYearPicker,month:this.state.month,year:this.state.year,onSelect:this.onDateSelection,renderMonthTitle:this.props.renderMonthTitle,dataClasses:this.props.dataClasses,after:t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:this.close,className:"close-button"},"Close"),this.props.after),afterYearPicker:this.props.afterYearPicker,afterMonthPicker:this.props.afterMonthPicker}),document.getElementsByTagName("body")[0])}},{key:"getStyle",value:function(){if(this.props.getStyle)return this.props.getStyle(this.inputRef.current,this.calendarRef.current);var e=this.inputRef.current.getBoundingClientRect(),t={left:"".concat(e.left,"px")};return this.props.direction&&"TOP"===this.props.direction.toUpperCase()?t.bottom=document.documentElement.scrollHeight-e.top:t.top="".concat(e.top+e.height,"px"),t}},{key:"targetHasExcludedClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!t.length&&j.apply(void 0,[e].concat(v(t)))}}]),l}(t.Component);x.defaultProps={dateToValue:function(e){return e.toLocaleDateString()},valueToDate:function(e){e=e.split(/[/.,-]/g).map((function(e){return parseInt(e)}));var t=new Date(2020,0,25).toLocaleDateString().split(/[/.,-]/g).map((function(e){return parseInt(e)})),n=t.indexOf(2020),r=t.indexOf(1),o=t.indexOf(25);return new Date(e[n],e[r]-1,e[o])},onSelect:function(){}},e.Calendar=w,e.DatePicker=x,e.setConfiguration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.firstDay&&(g=e.firstDay),e.daysTitles&&(k=e.daysTitles),e.monthsTitles&&(C=e.monthsTitles),e.libClassName&&(P=e.libClassName),e.previousButton&&(S=e.previousButton),e.nextButton&&(M=e.nextButton)},Object.defineProperty(e,"__esModule",{value:!0})}));
