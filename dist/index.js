!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e=e||self).ReactCalendars={},e.React,e.ReactDOM)}(this,(function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var m=1,v=["MON","TUE","WEN","THU","FRI","SAT","SUN"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],b="react-calendar",g="Previous",C="Next",k=function(e){function n(){var e,t;r(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return s(y(t=h(this,(e=c(n)).call.apply(e,[this].concat(a)))),"onClick",(function(e){var n=t.props.selectedDay?new Date(t.props.selectedDay.getTime()):null,r=new Date(t.props.year,t.props.month,t.props.day);t.props.selectDay(e,r,n)})),t}return l(n,e),a(n,[{key:"render",value:function(){return t.createElement("button",{type:"button",onClick:this.onClick},this.props.day)}}]),n}(t.Component),O=function(e){function n(e){var t;return r(this,n),s(y(t=h(this,c(n).call(this,e))),"isDay",(function(e,n){return e instanceof Date&&t.props.year===e.getFullYear()&&t.props.month===e.getMonth()&&n===e.getDate()})),s(y(t),"isToday",(function(e){return t.isDay(new Date,e)})),t.state=n.getDerivedStateFromProps(e),t}return l(n,e),a(n,[{key:"getDayClass",value:function(e){var t=this,n=["".concat(b,"-day")];this.props.selectedDay&&this.isDay(this.props.selectedDay,e)&&n.push("is-selected"),this.isToday(e)&&n.push("is-today");var r=this.props.dateClasses.find((function(n){var r=f(n,1)[0];return t.isDay(r,e)}));return r&&n.push(r[1]),n.join(" ")}},{key:"render",value:function(){var e=this;return t.createElement("div",{className:"".concat(b,"-month")},this.props.displayMonthTitle&&D[this.props.month],this.props.displayDayTitles&&t.createElement("ul",{className:"".concat(b,"-day-titles")},d(Array(7)).map((function(e,n){return t.createElement("li",{key:n},v[n])}))),t.createElement("ul",{className:"".concat(b,"-days")},d(Array(this.state.numberOfDays+this.state.offset)).map((function(n,r){return t.createElement("li",{className:e.getDayClass(r-e.state.offset+1),key:r},r>=e.state.offset&&t.createElement(k,{day:r-e.state.offset+1,selectDay:e.props.selectDay,selectedDay:e.props.selectedDay,month:e.props.month,year:e.props.year,onSelect:e.props.onSelect}))}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=new Date(e.year,e.month,1).getDay()-m;return{numberOfDays:new Date(e.month+1>11?e.year+1:e.year,e.month+1>11?e.month+1:0,0).getDate(),offset:t>0?t:7+t}}}]),n}(t.Component),T=function(e){function n(){var e,t;r(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return s(y(t=h(this,(e=c(n)).call.apply(e,[this].concat(a)))),"onClickPrevious",(function(){t.props.month>0?t.props.setMonth(t.props.month-1):(t.props.setMonth(11),t.props.setYear(t.props.year-1))})),s(y(t),"onClickNext",(function(){t.props.month<11?t.props.setMonth(t.props.month+1):(t.props.setMonth(0),t.props.setYear(t.props.year+1))})),t}return l(n,e),a(n,[{key:"render",value:function(){return t.createElement("div",{className:"".concat(b,"-month-picker")},t.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},g),this.props.renderMonthTitle?this.props.renderMonthTitle(D[this.props.month],this.props.year):D[this.props.month],t.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},C))}}]),n}(t.Component),S=function(e){function n(){var e,t;r(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return s(y(t=h(this,(e=c(n)).call.apply(e,[this].concat(a)))),"onClickPrevious",(function(){return t.props.setYear(t.props.year-1)})),s(y(t),"onClickNext",(function(){return t.props.setYear(t.props.year+1)})),t}return l(n,e),a(n,[{key:"render",value:function(){return t.createElement("div",{className:"".concat(b,"-year-picker")},t.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},g),this.props.year,t.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},C))}}]),n}(t.Component),E=function(e){function n(e){var t;return r(this,n),s(y(t=h(this,c(n).call(this,e))),"selectDay",(function(e,n,r){t.setState({selectedDay:n},(function(){return t.props.onSelect(e,n,r)}))})),s(y(t),"setMonth",(function(e){t.setState({month:e})})),s(y(t),"setYear",(function(e){t.setState({year:e})})),t.state={selectedDay:t.props.selectedDay,month:e.month,year:e.year},t}return l(n,e),a(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.year===e.year&&this.props.month===e.month&&this.props.selectedDay===e.selectedDay||this.setState({selectedDay:this.props.selectedDay,year:this.props.year,month:this.props.month})}},{key:"render",value:function(){var e=this;return t.createElement("div",{ref:this.props.reference,className:"".concat(b," ").concat(this.props.className||""),style:this.props.style},this.props.displayYearPicker&&t.createElement(S,{setYear:this.setYear,year:this.state.year}),this.props.displayMonthPicker&&t.createElement(T,{month:this.state.month,renderMonthTitle:this.props.renderMonthTitle,setMonth:this.setMonth,setYear:this.setYear,year:this.state.year}),t.createElement("ul",{className:"".concat(b,"-months")},d(Array(this.props.visibleMonths)).map((function(n,r){return t.createElement("li",{key:r},t.createElement(O,{dateClasses:e.props.dateClasses,displayMonthTitle:e.props.displayMonthTitle,displayDayTitles:e.props.displayDayTitles,month:e.state.month,onSelect:e.props.onSelect,selectDay:e.selectDay,selectedDay:e.state.selectedDay,visibleMonths:e.props.visibleMonths,year:e.state.year}))}))),this.props.after)}}]),n}(t.Component);E.defaultProps={dateClasses:[],displayDayTitles:!0,displayMonthPicker:!0,displayYearPicker:!0,month:(new Date).getMonth(),onSelect:function(){},visibleMonths:1,year:(new Date).getFullYear()};var M=function(e,t){return!!(e.className&&e.className.split&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&N(e.parentNode,t)},N=function(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;t++)if(M(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!0;return!1},w=function(e){function o(e){var n;return r(this,o),s(y(n=h(this,c(o).call(this,e))),"onClick",(function(e){return n.setState({displayCalendar:!0},(function(){"function"==typeof n.props.onClick&&n.props.onClick(e)}))})),s(y(n),"onFocus",(function(e){return n.setState({displayCalendar:!0},(function(){"function"==typeof n.props.onFocus&&n.props.onFocus(e)}))})),s(y(n),"close",(function(){return n.setState({displayCalendar:!1})})),s(y(n),"onChange",(function(e){var t={value:e.target.value},r=n.props.valueToDate(e.target.value);r instanceof Date&&!isNaN(r)&&r.getFullYear()>999&&(t.selectedDay=r,t.month=r.getMonth(),t.year=r.getFullYear()),n.setState(t,(function(){"function"==typeof n.props.onChange&&n.props.onChange(e)}))})),s(y(n),"onDateSelection",(function(e,t,r){n.setState({displayCalendar:!1,value:n.props.dateToValue(t),selectedDay:t},(function(){return n.props.onSelect(e,t,r)}))})),s(y(n),"onClickOutside",(function(e){e.button<=1&&((!n.inputRef.current.contains(e.target)||n.calendarRef)&&n.calendarRef.current&&n.calendarRef.current.contains(e.target)||n.targetHasExcludedClass(e.target)||n.close())})),s(y(n),"onFocusOutside",(function(e){(n.inputRef.current.contains(e.target)&&!n.calendarRef.current||!n.calendarRef.current.contains(e.target))&&n.close()})),s(y(n),"onKeyDown",(function(e){"Escape"===e.key&&n.close()})),n.state={displayCalendar:!1,value:e.selectedDay?e.dateToValue(e.selectedDay):"",selectedDay:e.selectedDay,month:e.month,year:e.year},n.calendarRef=t.createRef(),n.inputRef=t.createRef(),n}return l(o,e),a(o,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onClickOutside),document.addEventListener("focus",this.onFocusOutside),document.addEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function(e,t,n){e.selectedDay!==this.props.selectedDay&&this.setState({value:this.props.selectedDay?this.props.dateToValue(this.props.selectedDay):"",selectedDay:this.props.selectedDay})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onClickOutside),document.removeEventListener("focus",this.onFocusOutside)}},{key:"render",value:function(){var e=this.props,n=(e.className,e.dataClasses,e.dateToValue,e.selectedDay,e.visibleMonths,e.displayDayTitles,e.displayMonthPicker,e.displayYearPicker,e.month,e.onSelect,e.renderMonthTitle,e.valueToDate,e.year,u(e,["className","dataClasses","dateToValue","selectedDay","visibleMonths","displayDayTitles","displayMonthPicker","displayYearPicker","month","onSelect","renderMonthTitle","valueToDate","year"]));return t.createElement(t.Fragment,null,t.createElement("input",i({ref:this.inputRef,className:"".concat(b,"-date-picker ").concat(this.props.className||"")},n,{value:this.state.value,onFocus:this.onFocus,onChange:this.onChange,onClick:this.onClick})),this.renderCalendar())}},{key:"renderCalendar",value:function(){if(this.state.displayCalendar)return n.createPortal(t.createElement(E,{reference:this.calendarRef,style:this.getStyle(),className:"is-portal",selectedDay:this.state.selectedDay,visibleMonths:this.props.visibleMonths,displayDayTitles:this.props.displayDayTitles,displayMonthPicker:this.props.displayMonthPicker,displayYearPicker:this.props.displayYearPicker,month:this.state.month,year:this.state.year,onSelect:this.onDateSelection,renderMonthTitle:this.props.renderMonthTitle,dataClasses:this.props.dataClasses,after:t.createElement("button",{type:"button",onClick:this.close,className:"close-button"},"Close")}),document.getElementsByTagName("body")[0])}},{key:"getStyle",value:function(){if(this.props.getStyle)return this.props.getStyle(this.inputRef.current,this.calendarRef.current);var e=this.inputRef.current.getBoundingClientRect(),t={left:"".concat(e.left,"px")};return this.props.direction&&"TOP"===this.props.direction.toUpperCase()?t.bottom=document.documentElement.scrollHeight-e.top:t.top="".concat(e.top+e.height,"px"),t}},{key:"targetHasExcludedClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!t.length&&N.apply(void 0,[e].concat(d(t)))}}]),o}(t.Component);w.defaultProps={dateToValue:function(e){return e.toLocaleDateString()},valueToDate:function(e){e=e.split(/[/.,-]/g).map((function(e){return parseInt(e)}));var t=new Date(2020,0,25).toLocaleDateString().split(/[/.,-]/g).map((function(e){return parseInt(e)})),n=t.indexOf(2020),r=t.indexOf(1),o=t.indexOf(25);return new Date(e[n],e[r]-1,e[o])},onSelect:function(){}},e.Calendar=E,e.DatePicker=w,e.setConfiguration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.firstDay&&(m=e.firstDay),e.daysTitles&&(v=e.daysTitles),e.monthsTitles&&(D=e.monthsTitles),e.libClassName&&(b=e.libClassName),e.previousButton&&(g=e.previousButton),e.nextButton&&(C=e.nextButton)},Object.defineProperty(e,"__esModule",{value:!0})}));
